<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Valentine?</title>

<style>
  * {
    box-sizing: border-box;
    font-family: "Comic Sans MS", "Poppins", sans-serif;
  }

  html, body {
    overscroll-behavior: none;
    touch-action: manipulation;
  }

  body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(180deg, #ff9a9e, #fad0c4);
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
  }

  .container {
    background: rgba(255, 255, 255, 0.9);
    padding: 20px;
    border-radius: 20px;
    width: 90%;
    max-width: 380px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    z-index: 2;
  }

  img {
    width: 100%;
    border-radius: 15px;
    margin-bottom: 15px;
    display: none;
  }

  h1 {
    font-size: 1.35rem;
    color: #e60073;
    margin-bottom: 20px;
  }

  .buttons {
    display: flex;
    gap: 15px;
    position: relative;
  }

  button {
    flex: 1;
    padding: 14px;
    font-size: 1rem;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .yes {
    background: #ff4d6d;
    color: white;
  }

  .no {
    background: #ccc;
    color: #333;
  }

  .float {
    position: absolute;
    bottom: -30px;
    animation: floatUp linear infinite;
    opacity: 0.9;
    z-index: 1;
  }

  @keyframes floatUp {
    0% { transform: translateY(0) scale(1); opacity: 0; }
    10% { opacity: 1; }
    100% { transform: translateY(-120vh) scale(1.4); opacity: 0; }
  }
</style>
</head>

<body>

<audio id="bgMusic" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<!-- HOME SCREEN -->
<div class="container" id="homeScreen">
  <h1>Choose your proposal experience ðŸ˜Œ</h1>
  <p style="font-size:0.9rem;">ðŸ”Š Please turn up the volume</p>

  <div class="buttons">
    <button class="yes" onclick="startSoft()">ðŸ’– Soft Proposal</button>
    <button class="no" onclick="startChaos()">ðŸ˜ˆ Chaos Proposal</button>
  </div>
</div>

<!-- SOFT PROPOSAL -->
<div class="container" id="softScreen" style="display:none;">
  <img id="softImage" />
  <h1 id="softQuestion">
    Rutuja, youâ€™re already my girlfriend, but will you be my Valentine? ðŸ’–
  </h1>

  <div class="buttons">
    <button class="yes" id="softYes">Yes ðŸ’˜</button>
    <button class="no" id="softNo">No ðŸ™„</button>
  </div>
</div>

<!-- CHAOS PROPOSAL -->
<div class="container" id="chaosScreen" style="display:none;">
  <h1>Rutuja, will you be my Valentine? ðŸ˜ˆðŸ’–</h1>

  <div class="buttons" style="height:60px;">
    <button class="yes" id="chaosYes">Yes ðŸ’˜</button>
    <button class="no" id="chaosNo" style="position:absolute;">No ðŸ™„</button>
  </div>
</div>

<script>
/* ELEMENT REFERENCES */
const homeScreen = document.getElementById("homeScreen");
const softScreen = document.getElementById("softScreen");
const chaosScreen = document.getElementById("chaosScreen");

const softNo = document.getElementById("softNo");
const softYes = document.getElementById("softYes");
const softImage = document.getElementById("softImage");
const softQuestion = document.getElementById("softQuestion");

const chaosYes = document.getElementById("chaosYes");
const chaosNo = document.getElementById("chaosNo");

const music = document.getElementById("bgMusic");

/* MUSIC â€” start immediately after first interaction */
let musicStarted = false;
function startMusic() {
  if (musicStarted) return;
  musicStarted = true;
  music.play().catch(() => {});
}

/* NAVIGATION */
function startSoft() {
  startMusic();
  homeScreen.style.display = "none";
  softScreen.style.display = "block";
}

function startChaos() {
  startMusic();
  homeScreen.style.display = "none";
  chaosScreen.style.display = "block";
}

/* SOFT MODE LOGIC â€” 4 NO IMAGES */
const noImages = ["no.png", "no1.png", "no2.png", "no3.png"];
let noCount = 0;

softNo.addEventListener("click", () => {
  const index = Math.min(noCount, noImages.length - 1);
  softImage.src = noImages[index];
  softImage.style.display = "block";
  noCount++;
});

softYes.addEventListener("click", () => {
  if (noCount === 0) {
    softQuestion.innerHTML = `
      Start la bhaav nahi khalis aata tri bhaav khaa ðŸ˜Œ<br><br>
      <button onclick="goBack()">Back to main question</button>
    `;
    return;
  }

  softImage.src = "yes.png";
  softImage.style.display = "block";
  celebrate();
});

/* CHAOS MODE */
chaosNo.addEventListener("mouseenter", moveNo);
chaosNo.addEventListener("click", moveNo);

function moveNo() {
  chaosNo.style.left = Math.random() * 60 + "%";
  chaosNo.style.top = Math.random() * 40 + "px";
}

chaosYes.addEventListener("click", () => {
  startMusic();
  celebrate();
});

/* BACK TO HOME */
function goBack() {
  noCount = 0;
  softImage.style.display = "none";
  softQuestion.innerHTML =
    "Rutuja, youâ€™re already my girlfriend, but will you be my Valentine? ðŸ’–";
  softScreen.style.display = "none";
  homeScreen.style.display = "block";
}

/* CONFETTI + FLOATING HEARTS & SUNFLOWERS */
function createFloat(crazy = false) {
  const item = document.createElement("div");
  item.classList.add("float");
  item.textContent = ["ðŸ’–", "ðŸŒ»", "ðŸŽ‰"][Math.floor(Math.random() * 3)];
  item.style.left = Math.random() * 100 + "vw";
  item.style.animationDuration = crazy ? "2s" : "6s";
  item.style.fontSize = crazy ? "30px" : "18px";
  document.body.appendChild(item);
  setTimeout(() => item.remove(), 4000);
}

function celebrate() {
  for (let i = 0; i < 120; i++) createFloat(true);
}

setInterval(() => createFloat(false), 400);
</script>

</body>
</html>
